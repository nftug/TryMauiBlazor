@page "/"

<Title Value="Notes" />

@if (_isLoading)
{
    <MudCard>
        <MudCardHeader Style="display: block;">
            <CardHeaderContent>
                <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" />
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" />
        </MudCardContent>
        <MudCardActions>
            <MudSkeleton Width="64px" Height="40px" Class="ml-2" />
        </MudCardActions>
    </MudCard>
}
else
{
    @foreach (var note in NoteStoreService.Notes)
    {
        <MudCard Class="mb-4">
            <MudCardHeader Style="display: block;">
                <CardHeaderContent>
                    <MudText Typo="Typo.h6" Style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                        @note.Title
                    </MudText>
                </CardHeaderContent>
            </MudCardHeader>

            <MudCardContent>
                <MudText Typo="Typo.body2">@note.Date</MudText>
            </MudCardContent>

            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" Href="@($"/note/{note.Filename}")">Edit</MudButton>
            </MudCardActions>
        </MudCard>
    }
}

<span class="fab">
    <MudTooltip Text="Add note">
        <MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" Href="/note" />
    </MudTooltip>
</span>